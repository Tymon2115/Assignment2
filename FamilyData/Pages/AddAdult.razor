@page "/AddAdult"
@using Models
@using FamilyData.Data
@inject IAdultService adultService
@inject NavigationManager navigationManager;

<h3>AddAdult</h3>



<form id="addAdultForm">
    <hr/>
    <EditForm Model="@newAdult" OnValidSubmit="@AddNewAdult">
        <DataAnnotationsValidator/> <ValidationSummary/>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="firstName" class="form-check-label">First name</label>
                <InputText id="firstName" class="form-control" placeholder="John" @bind-Value="newAdult.FirstName"></InputText>
            </div>
            <div class="form-group col-md-6">
                <label for="lastName" class="form-check-label">Last name</label>
                <InputText id="lastName" class="form-control" placeholder="Castiglioni" @bind-Value="newAdult.LastName"></InputText>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-4">
                <label for="hairColor" class="form-check-label">Hair color</label>
                <InputText id="hairColor" class="form-control" placeholder="black"
                           @bind-Value="newAdult.HairColor">
                </InputText>
            </div>
            <div class="form-group col-md-4">
                <label for="eyeColor" class="form-check-label">Eye color</label>
                <InputText id="eyeColor" class="form-control" placeholder="blue"
                           @bind-Value="newAdult.EyeColor">
                </InputText>
            </div>
            <div class="form-group col-md-4">
                <label for="age" class="form-check-label">Age</label>
                <InputNumber id="age" class="form-control"
                             @bind-Value="newAdult.Age">
                </InputNumber>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-4">
                <label for="weight" class="form-check-label">Weight</label>
                <InputNumber id="weight" class="form-control" placeholder="enter weight"
                             @bind-Value="newAdult.Weight">
                </InputNumber>
            </div>
            <div class="form-group col-md-4">
                <label for="Height" class="form-check-label">Height</label>
                <InputNumber id="Height" class="form-control" placeholder="enter height"
                             @bind-Value="newAdult.Height">
                </InputNumber>
            </div>
            <div class="form-group col-md-4">
                <label for="sex" class="form-check-label">Sex</label>
                <InputSelect id="sex" class="form-control" @bind-Value="newAdult.Sex">
                    <option></option>
                    <option>Male</option>
                    <option>Female</option>
                    <option>Other</option>
                </InputSelect>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="JobTitle" class="form-check-label">Job title</label>
                <InputText id="JobTitle" class="form-control" placeholder="Software developer"
                           @bind-Value="newJob.JobTitle">
                </InputText>
            </div>
            <div class="form-group col-md-6">
                <label for="salary" class="form-check-label">Salary</label>
                <InputNumber id="salary" class="form-control" placeholder="20000"
                             @bind-Value="newJob.Salary">
                </InputNumber>
            </div>
        </div>
        @* TODO add checkbox  *@
        <p class="actions">
            <button class="btn btn-outline-dark" type="submit">Create</button>
        </p>
    </EditForm>
    <hr/>
</form>

@code {
    private Adult newAdult = new();
    private Job newJob = new();


    private void AddNewAdult()
    {
        newAdult.JobTitle = newJob;
        adultService.AddAdult(newAdult);
        navigationManager.NavigateTo("/AdultView");
    }

}